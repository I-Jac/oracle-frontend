<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 50 Tokens Oracle</title>
    <!-- Remove CDN scripts -->
    <!-- <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script> -->
    <!-- <script src="https://unpkg.com/buffer@6.0.3/index.js"></script> -->
    <!-- <script src="https://unpkg.com/@coral-xyz/anchor@0.31.0/dist/browser/index.js"></script> -->
  <script type="module" crossorigin src="/oracle-frontend/assets/index-BuEXdnQD.js"></script>
  <link rel="stylesheet" crossorigin href="/oracle-frontend/assets/index-DuWElGSA.css">
</head>

<body>
    <header>
        <h1>Solana Oracle - Top Tokens</h1>
        <p>Program ID: <code id="program-id">Loading...</code></p>
        <p>Storage Account: <code id="aggregator-pda">Loading...</code></p>
    </header>

    <main>
        <div class="controls">
            <button id="refresh-button">Refresh Data</button>
            <span id="loading-indicator" style="display: none;"> Loading...</span>
            <p>Last Updated: <span id="last-updated">Never</span></p>
        </div>

        <div id="error-message" class="error" style="display: none;"></div>

        <!-- Add a wrapper for horizontal scrolling -->
        <div class="table-container">
            <table id="token-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Symbol</th>
                        <th>Dominance</th>
                        <th>Address</th>
                        <!-- Updated Price Feed ID Header -->
                        <th>
                            <a href="https://www.pyth.network/developers/price-feed-ids#solana-price-feed-accounts" target="_blank"
                                rel="noopener noreferrer">
                                Price Feed ID
                            </a>
                        </th>
                    </tr>
                </thead>
                <tbody id="token-table-body">
                    <!-- Data will be populated here by script.js -->
                    <tr>
                        <td colspan="5">Loading data...</td>
                    </tr> <!-- Update colspan -->
                </tbody>
                <!-- Add Table Footer for Totals -->
                <tfoot id="token-table-footer">
                     <tr>
                         <td colspan="2" style="text-align: right; font-weight: bold;">Total Dominance:</td>
                         <td id="total-dominance-cell" style="text-align: right; font-weight: bold;" colspan="3">Calculating...</td> <!-- Span remaining 3 columns -->
                     </tr>
                 </tfoot>
            </table>
        </div> <!-- End table-container -->
    </main>

    <footer>
        <p>Using Solana Devnet</p>
    </footer>

    <!-- Update script tag -->
</body>

</html>